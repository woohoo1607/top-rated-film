(window["webpackJsonptop-rated-film"]=window["webpackJsonptop-rated-film"]||[]).push([[0],{107:function(e,t,a){e.exports={formControl:"FormsControls_formControl__6UCuu",error:"FormsControls_error__185BM"}},110:function(e,t,a){e.exports=a.p+"static/media/loading.59b65ba8.gif"},111:function(e,t,a){e.exports={loader:"Preloader_loader__Woel_"}},117:function(e,t,a){e.exports=a(242)},122:function(e,t,a){},13:function(e,t,a){e.exports={center:"AboutFilm_center__1_vgy",container:"AboutFilm_container__35zbJ",imgMovie:"AboutFilm_imgMovie__22UiA",info:"AboutFilm_info__z4pUK",titles:"AboutFilm_titles__3FUwH"}},24:function(e,t,a){e.exports={center:"FilmList_center__1cvzr",container:"FilmList_container__QHzL2",beforeContainer:"FilmList_beforeContainer__1exXQ",pages:"FilmList_pages__rhzRD",disable:"FilmList_disable__BqY1s",current:"FilmList_current__3Fe2Q",search:"FilmList_search__1UYes"}},242:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(50),s=a.n(i),c=a(23),l=(a(122),a(29)),o=a(30),m=a(34),u=a(31),p=a(35),f=a(36),g=a.n(f),h=a(51),d=a.n(h),E=function(e){return n.a.createElement("div",{className:g.a.movie},n.a.createElement("div",{className:g.a.imgMovie},e.poster&&n.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/"+e.poster}),!e.poster&&n.a.createElement("img",{src:"https://kinoframe.net/films/noposter.jpg"})),n.a.createElement("div",{className:g.a.about},n.a.createElement("h2",{className:g.a.title},e.title),n.a.createElement("p",{className:g.a.rating},n.a.createElement("img",{src:d.a}),e.rating)))},v=a(244),_=a(243),b=a(106),F=a(107),O=a.n(F),A=function(e){var t=e.input,a=e.meta,r=Object(b.a)(e,["input","meta"]);return n.a.createElement("div",{className:O.a.formControl},n.a.createElement("input",Object.assign({},t,r)),a.touched&&a.error&&n.a.createElement("span",null," ! "))},y=Object(_.a)({form:"searchForm"})(function(e){return n.a.createElement("form",{onSubmit:e.handleSubmit},n.a.createElement("div",null,n.a.createElement(v.a,{name:"search",component:A,placeholder:"Search",onChange:e.editInput})))}),j=function(e){var t=null;return n.a.createElement("div",null,n.a.createElement(y,{onSubmit:function(e){},editInput:function(a){var r=a.target.value;t&&clearTimeout(t),t=setTimeout(function(){return function(t){e.searchFilms(t)}(r)},1e3)}}))},P=a(20),N=a(24),w=a.n(N),T=a(110),C=a.n(T),S=a(111),D=a.n(S),k=function(){return n.a.createElement("div",{className:D.a.loader},n.a.createElement("img",{src:C.a,width:"200px",height:"200px","text-align":"center"}))},x=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.films.currentPage!==this.props.films.currentPage&&window.scrollTo(0,0)}},{key:"render",value:function(){var e=this,t=[];if(this.props.films.currentPage-3<=0)if(this.props.films.currentPage+3<this.props.films.totalPages){for(var a=1;a<this.props.films.currentPage+3;a++)t.push(a);t.push("...",this.props.films.totalPages)}else for(var r=1;r<this.props.films.totalPages;r++)t.push(r);else if(this.props.films.currentPage-3>0)if(t.push(1,"..."),this.props.films.currentPage+2>=this.props.films.totalPages)for(var i=this.props.films.totalPages-2;i<=this.props.films.totalPages;i++)t.push(i);else{for(var s=this.props.films.currentPage-1;s<this.props.films.currentPage+2;s++)t.push(s);t.push("...",this.props.films.totalPages)}else{for(var c=1;c<this.props.films.currentPage+5;c++)t.push(c);t.push("...",this.props.films.totalPages)}return n.a.createElement("div",{className:w.a.center},n.a.createElement("div",{className:w.a.search},n.a.createElement(j,{searchFilms:this.props.searchFilms})),this.props.films.isFetching&&n.a.createElement(k,null),n.a.createElement("div",{className:w.a.container},this.props.films.filmsData.map(function(e){return n.a.createElement("div",{key:e.id,className:w.a.beforeContainer},n.a.createElement(P.b,{to:"/film/".concat(e.id)},n.a.createElement(E,{key:e.id,title:e.title,rating:e.vote_average,poster:e.poster_path})))})),n.a.createElement("div",{className:w.a.pages},t.map(function(t,a){return n.a.createElement(P.b,{to:"/page/".concat(t),key:a,className:""+("..."===t&&w.a.disable)},n.a.createElement("span",{className:e.props.films.currentPage===t?w.a.current:null},t))})))}}]),t}(n.a.Component),L=a(115),I=a(54),G=a(113).create({baseURL:"https://api.themoviedb.org/3/",headers:{"Content-Type":"application/x-www-form-urlencoded"}}),M="780eab752dc5965944a9a55c62d383ab",B={getFilm:function(e){return G("movie/".concat(e,"?api_key=").concat(M)).then(function(e){return e.data})},getFilms:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return G.get("discover/movie?api_key=".concat(M,"&sort_by=vote_average.desc&page=").concat(e)).then(function(e){return e.data})},searchFilms:function(e){if(e){var t=e.replace(/ /g,"+");return G.get("search/movie?api_key=".concat(M,"&query=").concat(t)).then(function(e){return e.data})}return this.getFilms().then(function(e){return e})}};function U(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function R(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?U(a,!0).forEach(function(t){Object(I.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):U(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var H={filmsData:[],currentPage:1,totalPages:0,isFetching:!1},Q=function(e){return{type:"SET_FILMS",filmsData:e}},z=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},V=function(e){return{type:"SET_TOTAL_PAGES",totalPages:e}},W=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILMS":return R({},e,{filmsData:Object(L.a)(t.filmsData)});case"SET_CURRENT_PAGE":return R({},e,{currentPage:t.currentPage});case"SET_TOTAL_PAGES":return R({},e,{totalPages:t.totalPages});case"TOGGLE_IS_FETCHING":return R({},e,{isFetching:t.isFetching});default:return e}},J=a(18),X=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidUpdate",value:function(e,t){e.match.params.page!==this.props.match.params.page&&(this.props.getFilms(this.props.match.params.page),window.scrollTo(0,0))}},{key:"componentDidMount",value:function(){this.props.match.params.page?this.props.getFilms(this.props.match.params.page):this.props.getFilms()}},{key:"render",value:function(){return n.a.createElement(x,{films:this.props.films,getFilms:this.props.getFilms,searchFilms:this.props.searchFilms})}}]),t}(n.a.Component),K=Object(J.b)(function(e){return{films:e.films}},{getFilms:function(e){return function(t){t(W(!0)),B.getFilms(e).then(function(e){t(W(!1)),t(Q(e.results)),t(z(e.page)),t(V(e.total_pages))})}},searchFilms:function(e){return function(t){t(W(!0)),B.searchFilms(e).then(function(e){t(W(!1)),e.results&&(t(Q(e.results)),t(z(e.page)),t(V(e.total_pages)))})}},setCurrentPage:z})(Object(c.e)(X)),Y=a(13),Z=a.n(Y),$=function(e){var t,a=e.aboutFilm.filmData,r=[];a.production_countries&&a.production_countries.map(function(e){return r.push(e.name)}),t=r.length>0?r.join(", "):null;var i,s,c,l,o=[];a.genres&&a.genres.map(function(e){return o.push(e.name)}),i=o.length>0?o.join(", "):null;var m=[];return a.release_date&&(s=(m=a.release_date.split("-"))[2],c=m[1],l=m[0]),n.a.createElement("div",{className:Z.a.center},n.a.createElement("button",{onClick:function(){e.goBack()}},"Back"),n.a.createElement("h1",null,a.title),n.a.createElement("div",{className:Z.a.container},n.a.createElement("div",{className:Z.a.imgMovie},a.poster_path&&n.a.createElement("img",{src:"https://image.tmdb.org/t/p/w500/"+a.poster_path}),!a.poster_path&&n.a.createElement("img",{src:"https://kinoframe.net/films/noposter.jpg"})),n.a.createElement("div",{className:Z.a.info},l&&n.a.createElement("div",null,n.a.createElement("span",{className:Z.a.titles},"Release year: "),l),t&&n.a.createElement("div",null,n.a.createElement("span",{className:Z.a.titles},"Country: "),t),a.original_title&&n.a.createElement("div",null,n.a.createElement("span",{className:Z.a.titles},"Original title: "),a.original_title),a.tagline&&n.a.createElement("div",null,n.a.createElement("span",{className:Z.a.titles},"Tagline: "),a.tagline),i&&n.a.createElement("div",null,n.a.createElement("span",{className:Z.a.titles},"Genres: "),i),a.release_date&&n.a.createElement("div",null,n.a.createElement("span",{className:Z.a.titles},"Release date: "),s+"."+c+"."+l),a.overview&&n.a.createElement("div",null,n.a.createElement("span",{className:Z.a.titles},"Overview: "),a.overview),n.a.createElement("div",null,n.a.createElement("span",{className:Z.a.titles},"Raiting: "),n.a.createElement("img",{src:d.a}),a.vote_average))))};function ee(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function te(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ee(a,!0).forEach(function(t){Object(I.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ee(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var ae={filmData:{},isFetching:!1},re=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILM":return te({},e,{filmData:te({},t.filmData)});case"CLEAR_FILM":return te({},e,{filmData:{}});case"TOGGLE_IS_FETCHING":return te({},e,{isFetching:t.isFetching});default:return e}},ie=function(e){function t(){return Object(l.a)(this,t),Object(m.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.id;this.props.getFilm(e),window.scrollTo(0,0)}},{key:"componentWillUnmount",value:function(){this.props.clearFilm()}},{key:"render",value:function(){return n.a.createElement(n.a.Fragment,null,this.props.aboutFilm.isFetching&&n.a.createElement(k,null),n.a.createElement($,{aboutFilm:this.props.aboutFilm,goBack:this.props.history.goBack}))}}]),t}(n.a.Component),se=Object(J.b)(function(e){return{aboutFilm:e.aboutFilm}},{getFilm:function(e){return function(t){t(re(!0)),B.getFilm(e).then(function(e){t(re(!1)),t({type:"SET_FILM",filmData:e})})}},clearFilm:function(){return{type:"CLEAR_FILM"}}})(Object(c.e)(ie));var ce=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(c.a,{exact:!0,path:"/",render:function(){return n.a.createElement(K,null)}}),n.a.createElement(c.a,{path:"/film/:id",render:function(){return n.a.createElement(se,null)}}),n.a.createElement(c.a,{path:"/page/:page",render:function(){return n.a.createElement(K,null)}}))},le=a(6),oe=a(114),me=a(245),ue=Object(le.c)({films:q,aboutFilm:ne,form:me.a}),pe=Object(le.d)(ue,Object(le.a)(oe.a));s.a.render(n.a.createElement(P.a,null,n.a.createElement(J.a,{store:pe},n.a.createElement(ce,null))),document.getElementById("root"))},36:function(e,t,a){e.exports={movie:"FilmCard_movie__Q_gWx",imgMovie:"FilmCard_imgMovie__8SE17",about:"FilmCard_about__3hBkW",title:"FilmCard_title__1Whzj",rating:"FilmCard_rating__3QiDW"}},51:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAALEwAACxMBAJqcGAAAAbxJREFUOI2dkj9rU1EYxn/nT0xTk+Y2agsSTFWoDh3EpSgqOInQxW+gH8HBglMoOgS6+QmcM1ak4NjBTVpQMP6hNWKEauNNGmuSm3vP62Jbo/cG9NnOeZ73x3kfDoyQVDFSxYzK2FFmqzD5SAkB+HeTMipx+PlEgVBtS4QAU5PX2624nE4CuI6tKI3VKVIE+sE/vWB3LXsicqahLSkAFxLojDuZn+80YwHttdwCWt8UJ3M4dV5ZpuLAErGNSE1Z9QpxT/NXO6sWoFs7eis9272jrVLJS4EyTIOadiHXgrdZC51VDRBueov9jdw7osRODxUqgvXs695m6j78KrFYqTW7vpnvrY+/lDAZIgPFjxfZDdPKXCpVPvoHAIDTS/UWvnc59O1fRe1r0DQ7fB5cOb70fvdgrT9D/jOvrcdlIg4Q7Rm/cONb4fe7ocqkipE0uf2z62lc7zCixqK8yPDM0Ffey3hzxoiSUNHfyriwnn6MAVvs3x6b6WqdEr3z5NgsNGuxgN6XzBl8COpHVlxfLRYffngD0CiXlr83zHL6VLjgImaAGnHaKpe8T+XShVgTaJTPXvx671wuyf8v/QRIQaPvhwbekwAAAABJRU5ErkJggg=="}},[[117,1,2]]]);
//# sourceMappingURL=main.7ed020bf.chunk.js.map